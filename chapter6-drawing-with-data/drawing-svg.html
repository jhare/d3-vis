<!doctype html>

<html>
  <head>
    <meta charset="utf8"> 
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.5.2/animate.min.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet">
    <script src="https://d3js.org/d3.v4.min.js"></script>

    <style type="text/css">
      body {
        font-family: 'Raleway', sans-serif;
      }

      div.bar {
        display: inline-block;
        width: 20px;
        height: 75px;
        background-color: teal;
      }
    </style>

  </head>

  <body>
    <script type="text/javascript">
      const NUM_POINTS = 25;
      const dataset = [];

      for(let i = 0; i < NUM_POINTS; ++i) {
        dataset[i] = Math.floor(Math.random() * 29) + 5;
      }

      const w = 600;
      const h = 400;
      const barPadding = 1;

      const svg = d3.select('body')
        .append('svg')
        .attr('width', w)
        .attr('height', h);

      const rects = svg
        .selectAll('rect')
        .data(dataset)
        .enter()
        .append('rect')
        .attr('x', function(d, i) {
          return i * (w/dataset.length); 
        })
        .attr('y', function(d) {
          return h-(d*4);
        })
        .attr('width', w/dataset.length - barPadding)
        .attr('height', function(d) {
          return d*4;
        })
        .attr('fill', function(d) {
          return "rgb(0, 0, " + Math.round(d*10) + ")";
        });
       
      svg.selectAll("text")
        .data(dataset)
        .enter()
        .append('text')
        .text(function(d) {
          return d;
        }) 
        .attr("text-anchor", "middle")
        .attr('x', (d,i) => 
          (i * (w / dataset.length)) + (w/dataset.length - barPadding)/2)
        .attr("y", function(d) {
			   		return h - (d * 4) + 15;
			   })
			   .attr("font-family", "sans-serif")
			   .attr("font-size", "11px")
			   .attr("fill", "white");


    </script>
  </body>

</html>
